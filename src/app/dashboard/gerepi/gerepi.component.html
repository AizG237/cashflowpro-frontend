<section class="main">
    <div class="maincontent">
        <div class="maintitle">
            <h2>Plan d'investissement</h2>
        </div>
        <div class="bloctables">
            <div class="card">

                <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                    <li class="nav-item text-center">
                      <a class="nav-link active btl" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home" role="tab" aria-controls="pills-home" aria-selected="true">Liste des PI</a>
                    </li>
                    <li class="nav-item text-center">
                      <a class="nav-link btr" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile" role="tab" aria-controls="pills-profile" aria-selected="false">
                        Formulaire d'ajout de PI
                      </a>
                    </li>
                </ul>
                <div class="tab-content" id="pills-tabContent">

                    <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                        <div class="form px-4 ">

                            <table class="table table-bordered" data-toggle="table" data-search="true" data-pagination="true">
                                <table class="table">
                                    <thead>
                                        <tr>
                                        <th scope="col">No</th>
                                        <th scope="col">Nom PI</th>
                                        <th scope="col">Nom Actifs</th>
                                        <th scope="col">Nom broker</th>
                                        <th scope="col">Montant min</th>
                                        <th scope="col">Durée min</th>
                                        <th scope="col">Taux annuel</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                        <th scope="row">1</th>
                                        <td>Mark</td>
                                        <td>Otto</td>
                                        <td>@mdo</td>
                                        <td>@mdo</td>
                                        <td>@mdo</td>
                                        <td>@mdo</td>
                                        </tr>
                                        <!-- <tr>
                                        <th scope="row">3</th>
                                        <td colspan="2">Larry the Bird</td>
                                        <td>@twitter</td>
                                        </tr> -->
                                    </tbody>
                                    </table>
                            </table>

                        </div>
                    </div>

                    <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
                        <div class="form px-4 ">
        
                            <div class="mainform">
                                <div class="formul">
                                    <form role="form" (ngSubmit)= "OnAddPlanInvest()">
                                        <label for="">Nom PI:</label><br>
                                        <input type="text"  class="form-control" name="nominvest" [(ngModel)] = "invest.nominvest" [ngModelOptions]="{standalone:true}" required minlength="3" maxlength="30"  #nominvestvr="ngModel" [ngClass]="
                                        {'is-invalid':nominvestvr.touched &&    nominvestvr.valid}">

                                         <!-- ----------------alerts----------- -->
                                        <div *ngIf='nominvestvr.getError("required")' class="invalid-feedback" role="alert">
                                            Champs requis
                                          </div>
                                          <div *ngIf='nominvestvr.getError("minlength")' class="invalid-feedback" role="alert">
                                           Nombre minimum non atteint 
                                          </div>


                                        <label for="">Nom Actifs:</label><br>
                                        <input type="text" class="form-control"name="nomactif" [(ngModel)] = "invest.nomactif" [ngModelOptions]="{standalone:true}" required minlength="3" maxlength="30"  #nomactifvr="ngModel" [ngClass]="
                                        {'is-invalid':nomactifvr.touched && !nomactifvr.valid}">

                                        <!-- ----------------alerts----------- -->
                                        <div *ngIf='nomactifvr.getError("required")' class="invalid-feedback" role="alert">
                                            Champs requis
                                          </div>
                                          <div *ngIf='  nomactifvr.getError("minlength")' class="invalid-feedback" role="alert">
                                           Nombre minimum non atteint 
                                          </div>

                                        <label for="">Nom broker:</label><br>
                                        <input type="text" class="form-control" name="nombroker" [(ngModel)] = "invest.broker" [ngModelOptions]="{standalone:true}" required minlength="3" #brokervr="ngModel" [ngClass]="
                                        {'is-invalid':brokervr.touched &&  !brokervr.valid}">

                                        <!-- ----------------alerts----------- -->
                                        <div *ngIf='brokervr.getError("required")' class="invalid-feedback" role="alert">
                                            Champs requis
                                          </div>
                                          <div *ngIf='brokervr.getError("minlength")' class="invalid-feedback" role="alert">
                                           Nombre minimum non atteint 
                                          </div>

                                        <label for="">Montant min:</label><br>
                                        <input type="number" class="form-control" name="montantmin" [(ngModel)] = "invest.montantmin" [ngModelOptions]="{standalone:true}" required number #montantminvr="ngModel" [ngClass]="
                                        {'is-invalid':montantminvr.touched && !montantminvr.valid}">
                                        <!-- ----------------alerts----------- -->
                                        <div *ngIf='nomactifvr.getError("required")' class="invalid-feedback" role="alert">
                                            Champs requis
                                          </div>
                                          <div *ngIf='nomactifvr.getError("number")' class="invalid-feedback" role="alert">
                                           Ce champ ne doit comporter que des chiffres
                                          </div>

                                        <label for="">Durée min:</label><br>
                                        <input type="number" class="form-control" name="dureemin" [(ngModel)] = "invest.dureemin" [ngModelOptions]="{standalone:true}" required number #dureminvr="ngModel" [ngClass]="
                                        {'is-invalid':dureminvr.touched && !dureminvr.valid}">

                                        <!-- ----------------alerts----------- -->
                                        <div *ngIf='dureminvr.getError("required")' class="invalid-feedback" role="alert">
                                            Champs requis
                                          </div>
                                          <div *ngIf='  dureminvr.getError("minlength")' class="invalid-feedback" role="alert">
                                           Ce champ ne doit comporter que des chiffres
                                          </div>

                                        <label for="">Rendement Moyen:</label><br>
                                        <input type="number" class="form-control" name="rendementmoyen" [(ngModel)] = "invest.rendementmoyen" [ngModelOptions]="{standalone:true}" required number  #rendementmoyenvr="ngModel" [ngClass]="
                                        {'is-invalid':rendementmoyenvr.touched && !rendementmoyenvr.valid}">

                                          <!-- ----------------alerts----------- -->
                                          <div *ngIf='rendementmoyenvr.getError("required")' class="invalid-feedback" role="alert">
                                            Champs requis
                                          </div>
                                          <div *ngIf='  rendementmoyenvr.getError("minlength")' class="invalid-feedback" role="alert">
                                           Ce champ ne doit comporter que des chiffres
                                          </div>


                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>

                                        <button type="submit" class="btn btn-success" disabled class="btn btn-dark btn-block"
                                        *ngIf='nominvestvr.getError("required") || nominvestvr.getError("email") || dureminvr.getError("required") || dureminvr.getError("number") || nomactifvr.getError("required") || nomactifvr.getError("minlength") || montantminvr.getError("required") || montantminvr.getError("number") || brokervr.getError("required") || brokervr.getError("minlength") || rendementmoyenvr.getError("required") || rendementmoyenvr.getError("number")' 
                                        type="submit">Valider</button>

                                        <button type="submit" class="btn btn-success"  class="btn btn-dark btn-block"
                                        *ngIf='!nominvestvr.getError("required") && !nominvestvr.getError("email") && !dureminvr.getError("required") && !dureminvr.getError("number") &&! nomactifvr.getError("required") &&! nomactifvr.getError("minlength") &&! montantminvr.getError("required") &&!montantminvr.getError("number") &&! brokervr.getError("required") &&! brokervr.getError("minlength") && !rendementmoyenvr.getError("required") &&!rendementmoyenvr.getError("number")'  >Valider</button>
                                    </form>
                                </div>
                            </div>
                            
                        </div>
                    </div>

                </div>
              
            </div>
        </div>
    </div>
</section>
